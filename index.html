
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BH Carnaval - Engenharia de Rotas</title>

    <!-- Otimizações de performance -->
    <link rel="preload" href="/mapa-carnaval.json" as="fetch" crossorigin>
    <link rel="preload" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" as="style">
    <link rel="dns-prefetch" href="https://basemaps.cartocdn.com">
    <link rel="dns-prefetch" href="https://unpkg.com">
    <link rel="dns-prefetch" href="https://esm.sh">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-K3TLDCS6RL"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K3TLDCS6RL');
    </script>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-N2VR4K7D');</script>
    <!-- End Google Tag Manager -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fraunces:wght@600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap');
        .leaflet-container {
            width: 100%;
            height: 100%;
        }
        :root {
            --shell-bg: #141418;
            --panel-bg: #1b1b22;
            --panel-bg-soft: #20212a;
            --text-strong: #f4f4f5;
            --text-soft: #a1a1aa;
            --accent: #78f0c8;
            --accent-strong: #57d4b1;
            --accent-warning: #f7c15b;
        }
        body {
            font-family: 'Space Grotesk', sans-serif;
            background: #141418;
            color: var(--text-strong);
        }
        .font-display {
            font-family: 'Fraunces', serif;
        }
        .panel-dark {
            background: var(--panel-bg);
        }
        .panel-soft {
            background: var(--panel-bg-soft);
        }
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 999px;
        }
        .leaflet-popup-content-wrapper,
        .leaflet-popup-tip {
            background: #1b1b22;
            color: #f4f4f5;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 12px 30px rgba(10, 10, 15, 0.4);
        }
        .leaflet-popup-content p {
            margin: 4px 0;
        }
        input.no-spin::-webkit-outer-spin-button,
        input.no-spin::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input.no-spin {
            -moz-appearance: textfield;
            appearance: textfield;
        }
        /* Otimização de animações */
        .animate-in,
        .animate-spin,
        .animate-pulse {
            will-change: transform, opacity;
        }
        /* Remover will-change após animação */
        .animation-done {
            will-change: auto;
        }
        /* Estilo do cluster */
        .marker-cluster-small {
            background-color: rgba(120, 240, 200, 0.6);
        }
        .marker-cluster-small div {
            background-color: rgba(120, 240, 200, 0.8);
        }
        .marker-cluster-medium {
            background-color: rgba(120, 240, 200, 0.6);
        }
        .marker-cluster-medium div {
            background-color: rgba(120, 240, 200, 0.8);
        }
        .marker-cluster-large {
            background-color: rgba(120, 240, 200, 0.6);
        }
        .marker-cluster-large div {
            background-color: rgba(120, 240, 200, 0.8);
        }
        /* Carrossel Mobile */
        .carousel-container {
            display: flex;
            overflow-x: auto;
            overflow-y: hidden;
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none; /* Firefox */
        }
        .carousel-container::-webkit-scrollbar {
            display: none; /* Chrome, Safari */
        }
        .carousel-page {
            scroll-snap-align: start;
            scroll-snap-stop: always;
        }
        /* Indicadores de página */
        .carousel-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        .carousel-dot.active {
            background: var(--accent);
            width: 24px;
            border-radius: 4px;
        }
    </style>
<script type="importmap">
{
  "imports": {
    "react-dom/": "https://esm.sh/react-dom@^19.2.4/",
    "react/": "https://esm.sh/react@^19.2.4/",
    "react": "https://esm.sh/react@^19.2.4",
    "leaflet": "https://esm.sh/leaflet@^1.9.4"
  }
}
</script>
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20100%20100%22%3E%3Crect%20width%3D%22100%22%20height%3D%22100%22%20rx%3D%2220%22%20fill%3D%22%23141418%22/%3E%3Ctext%20x%3D%2250%22%20y%3D%2262%22%20font-size%3D%2256%22%20text-anchor%3D%22middle%22%20fill%3D%22%2378f0c8%22%20font-family%3D%22Arial%2C%20sans-serif%22%3EC%3C/text%3E%3C/svg%3E">
</head>
<body class="bg-transparent">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N2VR4K7D"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div id="root"></div>
<script type="module" src="/index.tsx"></script>
</body>
</html>
